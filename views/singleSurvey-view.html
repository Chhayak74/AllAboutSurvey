<!-- Single Survey view for an Admin -->

<div class="container">
	<div class="row">
		<div class="col-lg-offset-1 col-lg-10 col-md-offset-1 col-md-10 col-sm-offset-1 col-sm-10 col-xs-offset-1 col-xs-10 singlelast">
			<div>
                        <div>
                            <div class="text-center survey_info">
                                <div class="H1">{{singleSurvey.surveyobj.surveyTitle}}</div>
                                <div class="H2">{{singleSurvey.surveyobj.surveySubtitle}}</div>
                                <div class="Sub">{{singleSurvey.surveyobj.instructions}}</div>
                                <div class="H1"><a ng-href = "#/{{singleSurvey.surveyobj.surveyId}}/edit"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a></div>
                            </div>
                            <div ng-if="singleSurvey.questions.length>0">
                                <h1 class="colorQuestion">Questions</h1>
                                <div ng-repeat="question in singleSurvey.questions">
                                    <div class="styleQuestion">
                                         <a ng-click = "singleSurvey.questionDelete(question.questionId ,$index)"><i class="fa fa-times" aria-hidden="true"></i></a>
                                         <a  ng-click = "singleSurvey.editClicked()"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
                                         {{question.questionText}}
                                    </div>
                                    <div ng-show="singleSurvey.showEditBox=='true'" class="editQuesBox">
                                         <form ng-submit="singleSurvey.editQuestion(question.questionId , question.questionText)">
                                             <input type="text" name="editedQuestion" ng-model="question.questionText" required>
                                             <input type="submit" name="submit_edit_ques" class="button-sm" value="Update" >
                                         </form>
                                    </div>
                                    <div class="options">
                                        <ul ng-repeat = "option in question.options track by $index" ng-init = "singleSurvey.lastOptionIndex = $index">
                                            <li class="styleOption">{{option}}</li>
                                        </ul>
                                        <div ng-if="question.options.length>0">
                                            <button  type="button" class="button-sm" ng-click = "singleSurvey.optionsDelete(question.options , question.questionId)">Delete All Options</button>
                                        </div>
                                        <div ng-if="question.answers.length>0" ng-hide="singleSurvey.answerBox=='true'" >
                                            <button  type="button" class="button-sm" ng-click = "singleSurvey.answersDelete( question.questionId)">Delete All Answers</button>
                                        </div>
                                        
                                        <div id="addOptions">
                                            <button type="button" class=" button-sm " ng-model='$index' ng-click="singleSurvey.add = 'true' ; singleSurvey.currentOption($index) ">Add Options</button>

                                            <div ng-if = "singleSurvey.add =='true'" ng-hide = "singleSurvey.currentIndex!==$index">
                                                <form ng-submit = "singleSurvey.addOption(question.options,question.questionId , $index)">
                                                    <label class="optlabel">Option :</label>
                                                    <input class="opt" type="text" name="option" ng-model="singleSurvey.optionText" required>
                                                    <input type="submit" class="button" name="addOption" value="Add">
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br>
                            <div>
                                <a  ng-href="#/{{singleSurvey.surveyobj.surveyId}}/edit"><button class="button">Edit</button></a>
                                <a ><button class="button" ng-click="singleSurvey.delete(singleSurvey.surveyobj.surveyId,$index)">Delete</button></a>
                                <a  href="#/{{singleSurvey.surveyobj.surveyId}}/question/create"><button class="button" name="get" >Add More Questions</button></a>
                            </div>
                        </div>

                </div>


		</div>
	</div>
</div>












